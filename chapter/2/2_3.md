# 演習問題 2.3
## 問題
$S_{\rm{gem}} = \lbrace\rm{priceless,\ priceless,\ jewelry,\ jewelry,\ ray}\rbrace$, $S_{\rm{jewel}} = \lbrace\rm{priceless,\ priceless,\ priceless,\ jewelry,\ ray,\ faceting} \rbrace$ の場合に、具体的に $M_y, M_k$ を計算せよ。

## 前提知識

テーマ単語 A, 及び B に対して、重複排除をする場合 / しない場合の文脈の類似度 $M_y, M_k$ を次のように定義する

$$
M_y = \frac{\mathrm{count}(A_y \cap B_y)}{\min(\mathrm{count}(A_y), \mathrm{count}({B_y}))}
$$

$$
M_k = \frac{\mathrm{count}(A_k \cap B_k)}{\min(\mathrm{count}(A_k), \mathrm{count}({B_k}))}
$$

ここで、

- $S_A, S_B$ : テーマ単語 A 及び B について書かれた文脈。すなわち、使われた単語の全ての集合で重複排除しないもの
- $A_y, B_y$ : それぞれ $S_A, S_B$ を重複排除したもの
- $A_k, B_k$ : それぞれ $S_A, S_B$ そのもの（重複排除しない）
- $\mathrm{count}(\cdot)$ : 集合の要素数をカウントする関数

である。

また、多重集合 $X$ における要素 $x$ の個数を $m_X(x)$、要素 $x$ をちょうど $y$ 個含む多重集合を $x^{(y)}$ とすると、多重集合 $A, B$ に対して $A \cap B$ は、

$$
  A \cap B = \bigcup_{a \in A} a^{(\min(m_A(a), m_B(a)))}
$$

となる

## 解答
$A = \rm{gem}$, $B = \rm{jewel}$ である。以降、 $\rm{gem}$, $\rm{jewel}$ という表記の代わりに $A$, $B$ を利用する。

重複排除する場合を考えると

$$
A_y = \lbrace\rm{priceless,\ jewelry,\ ray}\rbrace
$$
$$
B_y = \lbrace\rm{priceless,\ jewelry,\ ray,\ faceting}\rbrace
$$
$$
A_y \cap B_y = \lbrace\rm{priceless,\ jewelry,\ ray}\rbrace
$$

となるので、

$$
M_y = \frac{\mathrm{count}(A_y \cap B_y)}{\min(\mathrm{count}(A_y), \mathrm{count}({B_y}))} = \frac{3}{\min(3, 3)} = \frac{3}{3} = 1
$$

重複排除しない場合は、

$$
A_k = \lbrace\rm{priceless,\ priceless,\ jewelry,\ jewelry,\ ray}\rbrace
$$
$$
B_k = \lbrace\rm{priceless,\ priceless,\ priceless,\ jewelry,\ ray,\ faceting} \rbrace
$$
$$
A_k \cap B_k = \lbrace\rm{priceless,\ priceless,\ jewelry,\ ray} \rbrace
$$

$$
M_k = \frac{\mathrm{count}(A_k \cap B_k)}{\min(\mathrm{count}(A_k), \mathrm{count}({B_k}))} = \frac{4}{\min(5, 6)} = \frac{4}{5} = 0.8
$$

となる。

## 参考文献

[1] Rubenstein, Herbert & Goodenough, John. (1965). Contextual correlates of synonymy. Commun. ACM. 8. 627-633. 10.1145/365628.365657.
